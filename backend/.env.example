# Job Watcher backend environment template
# Copy to backend/.env (or your deployment env vars) and adjust as needed.

# --- Run/Audit retention ---
# Keep only the newest N runs in runs/run_job_audit/run_jobs/run_settings.
# Default: 14
# Hard gate floor: 7 (values below 7 are clamped to 7 at runtime).
RETENTION_MAX_RUNS=14

# --- Inbox active-window retention ---
# Jobs with last_seen older than this many days are marked inactive in jobs_catalog.
# Rows are not deleted, so feedback/overrides/ML memory remain intact.
# Default: 60
# Hard gate floor: 30 (values below 30 are clamped to 30 at runtime).
INBOX_ACTIVE_TTL_DAYS=60

# Maximum number of active Inbox rows (jobs_catalog.is_active=1).
# If exceeded, oldest reviewed rows are deactivated first using deterministic ordering.
# Default: 50000
# Hard gate floor: 10000 (values below 10000 are clamped to 10000 at runtime).
INBOX_MAX_ACTIVE_ROWS=50000

# Keep all feedback labels by default for ML training memory.
# Strongly recommended to keep true unless you have an export/archive pipeline.
# Default: true
KEEP_ALL_FEEDBACK=true

# Optional placeholder for future export/archive workflows.
# EXPORT_ENABLED=0

# --- Existing fetcher knobs ---
FETCH_MAX_WORKERS=8
CAREERURL_MAX_PAGES=20
CAREERURL_TIME_BUDGET_S=35
CAREERURL_LIST_TIMEOUT_S=12
CAREERURL_NO_PROGRESS_PAGES=2
CAREERURL_PLAYWRIGHT=1
